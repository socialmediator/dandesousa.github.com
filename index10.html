<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Dan DeSousa's Blog</title>
    <meta name="description" content="">
    <meta name="author" content="Dan">

    <link href="./theme/css/bootstrap.min.css" rel="stylesheet">
    <link href="./theme/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="./theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="./theme/css/showcase.css" rel="stylesheet">
    <link href="./theme/css/showcase-icons.css" rel="stylesheet">
    <link href="./theme/css/showcase-pygments.css" rel="stylesheet">
    <script>var _gaq=[['_setAccount','UA-10113677-1'],['_trackPageview']];(function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.src='//www.google-analytics.com/ga.js';s.parentNode.insertBefore(g,s)}(document,'script'))</script>
      </head>
  <body>
    
    <div class="container site-container">
      <div class="row">
        <div class="span12 text-center">
                    <a style="text-decoration: none" href="."><h1>Dan DeSousa's Blog</h1></a>
                  </div>
      </div>

      <div class="row">
        <div class="span12 centered-pills">
          <ul class="nav nav-pills">
            <li class="active"><a href="/">Blog</a></li>
                        <li ><a href="/pages/about">About</a></li>
                      </ul>
        </div>
      </div>

      <div class="row">
        <div class="span12">
                    
<div class="page-header"><h1>Blog</h1></div>
<div class='article'>
    <h3>Compiling Opengl On Mac Os X Or Linux</h3>
  <div class="row">
    <div class="span4">
      <div class="well well-small">
        <ul class="unstyled">
  <li><i class="icon-time"></i> <a class="more" href="./posts/2010/01/16/compiling-opengl-on-mac-os-x-or-linux/">Saturday, January 16 2010 09:50 PM</a> </li> 
  <li><i class="icon-pencil"></i> <a class="url fn" href="./author/admin.html">Admin</a> </li>
  <li>
  <i class="icon-tags"></i> 
    </li>
  <!-- <li><i class="icon-folder-open"></i> <a href="./category/programming.html">Programming</a></li> -->
</ul>        <i class="icon-comments-alt"></i> <a href="./posts/2010/01/16/compiling-opengl-on-mac-os-x-or-linux/#disqus_thread"></a>      </div>
    </div>
    <div class="span8">
      <div class="summary">
        <p>Most linux distributions make it easy to compile programs using OpenGL.
Other systems, however, aren't so easy. Here are instructions on how to
get it running in both platforms.</p>
<p><strong>Ubuntu / Linux</strong></p>
<ol>
<li>
<p>Make sure you install the opengl-mesa packages for opengl
    development. On ubuntu you can get them all with the following
    invocation:</p>
<p><code>sudo apt-get install freeglut3-dev</code></p>
</li>
<li>
<p>You should include the following #includes in your code referencing
    opengl:</p>
<div class="codehilite"><pre><span class="cp">#include &lt;GL/gl.h&gt;</span>
<span class="cp">#include &lt;GL/glu.h&gt;</span>
<span class="cp">#include &lt;GL/glut.h&gt;</span>
</pre></div>


</li>
<li>
<p>You should also have the following gcc cmdline flags in your
    makefile:</p>
<p><code>gcc -o simple simple.cÂ -lGL -lglut -lGLU</code></p>
</li>
</ol>
<p><strong>Mac OS X (tested on Snow Leopard)</strong></p>
<ol>
<li>
<p>For this to work you will have to install gcc and Xcode, which
    should install all the required opengl/glut libraries. You can get
    it <a href="http://developer.apple.com/">here</a>.</p>
</li>
<li>
<p>Now, you'll have to alter all the #includes in your files to
    conform to the proper location. Change all your opengl #includes to
    the following:<span style="font-family: monospace;"> </span></p>
<div class="codehilite"><pre><span class="cp">#include &lt;OpenGL/gl.h&gt;</span>
<span class="cp">#include &lt;OpenGL/glu.h&gt;</span>
<span class="cp">#include &lt;GLUT/glut.h&gt;</span>
</pre></div>


</li>
<li>
<p>Additionally your gcc command line will need to contain the
    following flags to link, along with any others you might have:</p>
<p><code>gcc -o simple simple.c -framework Carbon -framework OpenGL -framework GLUT</code></p>
</li>
</ol>
<p><strong>Cross Platform Compatibility</strong></p>
<p><strong><span style="font-weight: normal;">If you want your code to run on
both, you need to get the Makefile and code to load the proper libraries
depending on your system. </span></strong></p>
<p><strong><span style="font-weight: normal;">In all your OpenGL .c files, add
the following header instead of your linux/mac includes:</span></strong></p>
<div class="codehilite"><pre><span class="cp">#ifdef __APPLE__</span>
<span class="cp">#  include &lt;OpenGL/gl.h&gt;</span>
<span class="cp">#  include &lt;OpenGL/glu.h&gt;</span>
<span class="cp">#  include &lt;GLUT/glut.h&gt;</span>
<span class="cp">#else</span>
<span class="cp">#  include &lt;GL/gl.h&gt;</span>
<span class="cp">#  include &lt;GL/glu.h&gt;</span>
<span class="cp">#  include &lt;GL/glut.h&gt;</span>
<span class="cp">#endif</span>
</pre></div>


<p>Then in your makefile, add the following before your build targets:</p>
<div class="codehilite"><pre><span class="c">#default cmdline flags</span>
<span class="nv">LDFLAGS</span>  <span class="o">=</span> -lGL -lglut -lGLU
<span class="c"># Mac OS alternate cmdline link options</span>
<span class="cp">ifeq &quot;$(OSTYPE)&quot; &quot;Darwin&quot;</span>
  <span class="nv">LDFLAGS</span> <span class="o">=</span> -framework Carbon -framework OpenGL -framework GLUT
<span class="cp">endif</span>
</pre></div>
      </div>
    </diV>
  </div>
</div>	
<br>
<hr/>
</ul>
<div class='article'>
    <h3>Openmp And Gcc Optimization</h3>
  <div class="row">
    <div class="span4">
      <div class="well well-small">
        <ul class="unstyled">
  <li><i class="icon-time"></i> <a class="more" href="./posts/2009/02/10/openmp-and-gcc-optimization/">Tuesday, February 10 2009 08:34 PM</a> </li> 
  <li><i class="icon-pencil"></i> <a class="url fn" href="./author/admin.html">Admin</a> </li>
  <li>
  <i class="icon-tags"></i> 
    </li>
  <!-- <li><i class="icon-folder-open"></i> <a href="./category/articles.html">Articles</a></li> -->
</ul>        <i class="icon-comments-alt"></i> <a href="./posts/2009/02/10/openmp-and-gcc-optimization/#disqus_thread"></a>      </div>
    </div>
    <div class="span8">
      <div class="summary">
        <p>So I encountered and interesting little affect while compiling some C
code in OpenMP using GCC. Seems that my code ran fine without any
automatic optimization flags (-O2, -O3), but when I turned them on, went
haywire. The sequential version wasn't affected.</p>
<p>I tracked down the problem and found that it was actually do to my use
of the private variable in the OpenMP directive. Here is a sample of the
problem.</p>
<div class="codehilite"><pre><span class="cp">#pragma omp parallel</span>
<span class="p">{</span> 
<span class="cp">#pragma omp for private(i, j, new_j, skip_next)</span>
    <span class="k">for</span><span class="p">(</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Set each thread on one row of the loop</span>
        <span class="n">skip_next</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
        <span class="p">...</span>
</pre></div>


<p>The problem actually occured because I did not have 'skip_next=0' on
line 5 of this code. This didn't seem to matter when optimization was
disabled but did cause incorrect semantics when I turned it on. Seems
like OpenMP says you must assume that all privates are uninitialized
when you start a new directive block. If you want them to be private but
start with some default value, do what I did above or add the variable
to the firstprivate() attribute instead of the private attribute:</p>
<div class="codehilite"><pre><span class="cp">#pragma omp for firstprivate(skip_next) private(i, j, new_j)</span>
</pre></div>
      </div>
    </diV>
  </div>
</div>	
<br>
<hr/>
</ul>
<div class='article'>
    <h3>Hf100 + Imagemixer Fix For Startup Freeze</h3>
  <div class="row">
    <div class="span4">
      <div class="well well-small">
        <ul class="unstyled">
  <li><i class="icon-time"></i> <a class="more" href="./posts/2009/02/06/hf100-imagemixer-fix-for-startup-freeze/">Friday, February 06 2009 05:23 PM</a> </li> 
  <li><i class="icon-pencil"></i> <a class="url fn" href="./author/admin.html">Admin</a> </li>
  <li>
  <i class="icon-tags"></i> 
    <a href="./tag/canon.html">canon</a>
    <a href="./tag/hf100.html">hf100</a>
    <a href="./tag/imagemixer.html">imagemixer</a>
    </li>
  <!-- <li><i class="icon-folder-open"></i> <a href="./category/technology.html">Technology</a></li> -->
</ul>        <i class="icon-comments-alt"></i> <a href="./posts/2009/02/06/hf100-imagemixer-fix-for-startup-freeze/#disqus_thread"></a>      </div>
    </div>
    <div class="span8">
      <div class="summary">
        <p>So I just got a new camcorder thanks to now qualifying for the US
stimulus package from back in April. I was looking around for something
to help stimulate the economy and decided that I should get a camcorder
while prices are low and money is high. Anyway, the HF100 is flash based
and really nice. It records in full HD 1080p with pretty decent picture
quality, though I have yet to record in full light setting (outside). So
far I only have sort of dim shots indoors of my roommate's cats and my
ferret.</p>
<p>Anyway in my commitment to making a post with something useful every
week, I've decided to share a tip with the world. Seems as though when I
installed my ImageMixer 3 SE software, it would just freeze upon
startup. Normally I wouldn't mind the issue with crap proprietary
software, but there is no easy way to edit .MTS/M2TS files without
converting and losing quality. Since I prefer to keep the originals as
well as edit them so that extra footage is chopped off, I needed to
figure out what was wrong. After some digging I found the solution to my
problem.</p>
<p>If this occurs for you, you need to install all third party codec packs
you installed. I had the CCCP (Community Codec Pak), which is useful for
watching MKVs. Unfortunately, that was messing up something, so I had to
uninstall it. I found numerous posts talking about uninstalling codec
packs, so that's probably the way to go.</p>
<p>Unfortunately, that eliminates the ability to play back MKV's in WMV. I
don't have a solution for this but I suggest installing <a href="http://www.videolan.org/vlc/">VLC</a>. It is
wonderful and plays everything.</p>
<p>My first video, the high definition is better if you go straight to
youtube:</p>
<p align="center">
<embed src="http://www.youtube.com/v/eBXqOGTKyaA&amp;hl=en&amp;fs=1" width="480" height="295" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always">
</embed>
</p>

</p>
      </div>
    </diV>
  </div>
</div>	
<br>
<hr/>
</ul>

<div class="pagination">
  <ul>
            <li class="prev"><a href="./index9.html">&larr; Previous</a></li>
            <li class=""><a href="./index.html">1</a></li>
        <li class=""><a href="./index2.html">2</a></li>
        <li class=""><a href="./index3.html">3</a></li>
        <li class=""><a href="./index4.html">4</a></li>
        <li class=""><a href="./index5.html">5</a></li>
        <li class=""><a href="./index6.html">6</a></li>
        <li class=""><a href="./index7.html">7</a></li>
        <li class=""><a href="./index8.html">8</a></li>
        <li class=""><a href="./index9.html">9</a></li>
        <li class="active"><a href="./index10.html">10</a></li>
        <li class=""><a href="./index11.html">11</a></li>
        <li class=""><a href="./index12.html">12</a></li>
            <li class="next"><a href="./index11.html">Next &rarr;</a></li>
      </ul>
</div>

        </div>
      </div>
    </div>

    <footer class="footer">
    <div class="container">
      <p> 
                <a href="https://facebook.com/daniel.sousa"><i class="icon-color-facebook icon-2x icon-facebook-sign"></i></a>
                        <a href="http://twitter.com/dandesousa"><i class="icon-color-twitter icon-2x icon-twitter-sign"></i></a>
                        <a href="https://github.com/dandesousa"><i class="icon-color-github icon-2x icon-github-alt"></i></a>
              </p>
      <p><a href="http://github.com/minksoftware/pelican-showcase">Showcase</a> based on <a href="http://twitter.github.com/bootstrap/">Bootstrap, from Twitter</a>.</p>
      <p><a href="http://fortawesome.github.com/Font-Awesome">Font Awesome by Dave Gandy</a></p>
      <p>&copy;  Dan DeSousa  2013</p>
    </div>
    </footer>

    <script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'example'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>  </body>
</html>